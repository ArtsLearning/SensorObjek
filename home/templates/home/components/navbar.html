{% load static %}
<nav class="navbar">
    <div class="container">
        <div class="nav-brand">
            <img src="{% static 'home/images/logo.png' %}" alt="Traffic Eye Logo" class="logo">
            <span class="brand-text">TRAFFIC<br>EYE</span>
        </div>

        <!-- HAMBURGER BUTTON -->
        <div class="hamburger" id="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>

        <ul class="nav-menu" id="nav-menu">
            <li><a href="#hero" class="nav-link ">Home</a></li>
            <li><a href="#about" class="nav-link ">About Us</a></li>
            <li><a href="#ourteam" class="nav-link ">Our Team</a></li>
            <li><a href="{% url 'login' %}" class="nav-link nav-transition">Login</a></li>
        </ul>
    </div>
</nav>


<script>
document.querySelectorAll(".nav-transition").forEach(link => {
    link.addEventListener("click", function(e) {
        e.preventDefault();

        document.body.classList.add("page-exit");

        setTimeout(() => {
            document.body.classList.add("page-exit-active");
        }, 10);

        setTimeout(() => {
            window.location.href = link.href;
        }, 350);
    });
});

window.addEventListener("pageshow", (e) => {
    if (e.persisted) {
        document.body.classList.remove("page-exit", "page-exit-active");
    }
});

const hamburger = document.getElementById("hamburger");
const navMenu = document.getElementById("nav-menu");

hamburger.addEventListener("click", () => {
    hamburger.classList.toggle("active");
    navMenu.classList.toggle("show");
});

// Auto-close after clicking a link
document.querySelectorAll(".nav-link").forEach(link => {
    link.addEventListener("click", () => {
        hamburger.classList.remove("active");
        navMenu.classList.remove("show");
    });
});
</script>


